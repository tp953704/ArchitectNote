# 非對稱加密與公私鑰概念

## 基本概念
非對稱加密使用一組密鑰：公鑰和私鑰。這兩個密鑰是相互關聯的，具有以下特性：

- 使用一個密鑰加密的數據只能用另一個密鑰解密。
- 公鑰可以公開分享，私鑰則必須保密。

在加密過程中：
1. 任何人都可以使用公鑰加密信息，只有擁有對應私鑰的人能解密。
2. 反之，也可以用私鑰加密信息，只有對應的公鑰可以解密（通常用於數字簽名驗證）。

## 範例：Alice 和 Bob
1. Alice 生成了一對密鑰：公鑰和私鑰。
2. 她將公鑰公開，讓任何人都能用來加密信息。
3. Bob 想向 Alice 傳送訊息“Hello Alice”：
   - Bob 使用 Alice 的公鑰加密訊息。
   - 加密後的訊息可以安全地透過網路傳送，即使被攔截也無法解密。
4. Alice 收到訊息後，用自己的私鑰解密，讀取訊息內容。

## SSH 登入範例
非對稱加密常用於 SSH 登入，以下是流程：

1. **準備階段**：
   - 用戶生成一對密鑰，並將公鑰提供給伺服器。
   - 伺服器將公鑰存放在 `~/.ssh/authorized_keys` 文件中。

2. **登入流程**：
   1. 用戶通過 SSH 發送登入請求，聲明自己的身份（如用戶名）。
   2. 伺服器生成挑戰（如算術問題 `2 + 3 = ?`），並用用戶的公鑰加密後發送回用戶。
   3. 用戶使用私鑰解密挑戰並計算結果，將答案加密後回傳給伺服器。
   4. 伺服器用用戶的公鑰解密答案並驗證正確性。
   5. 如果答案正確，伺服器允許登入。

## 公私鑰生成
使用以下指令生成密鑰：
```bash
ssh-keygen
```
生成的文件：
- 公鑰：`id_rsa.pub`
- 私鑰：`id_rsa`

## 應用場景
非對稱加密廣泛應用於以下領域：
- **安全通訊**：如 TLS（HTTPS）、電子郵件加密（S/MIME）。
- **數字簽名**：驗證消息的完整性和來源。
- **區塊鏈**：如比特幣交易簽名。

## 協議示例
- **明文協議**：如 FTP（數據以明文傳輸，易被攔截）。
- **加密協議**：如 SFTP（透過 SSH 加密，確保安全）。

## FTP 與 SFTP 的區別
- **FTP**：
  - 使用明文傳輸。
  - 敏感信息（如用戶名和密碼）易被攔截。
- **SFTP**：
  - 使用非對稱加密進行安全通訊。
  - 所有數據均以加密形式傳輸，即使被攔截也無法解讀。

## 小結
非對稱加密是現代網絡安全的基礎，能有效保護數據安全與完整性，並廣泛應用於多種協議和場景。
