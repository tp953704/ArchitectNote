# Rust 函數（Functions）筆記
## 基本概念
函數就像一台小機器：輸入 → 處理 → 輸出。使用函數可以將程式拆分成模組化、可重複使用的區塊。

### 定義函數
使用 fn 關鍵字定義函數：
```
fn function_name() {
    // 程式碼
}
```
```
fn main() {
    greet();
}

fn greet() {
    println!("Hello, world!");
}
輸出：
text
Hello, world!
```
### 參數（Parameters）
參數是函數的輸入，充當實際值的佔位符。
#### 語法
```
fn function_name(parameter1: Type, parameter2: Type) {
    // 程式碼
}
```
範例：個人化問候語
```
fn main() {
    greet("Alice");
    greet("Bob");
}

fn greet(name: &str) {
    println!("Hello, {}!", name);
}
輸出：
text
Hello, Alice!
Hello, Bob!
```
範例：計算矩形面積
```
fn main() {
    let area = calculate_area(5, 10);
    println!("The area is: {}", area);
}

fn calculate_area(width: i32, height: i32) -> i32 {
    width * height
}
```
範例：添加訊息前綴
```
fn main() {
    let message1 = add_prefix("Error", "File not found");
    let message2 = add_prefix("Warning", "Low disk space");

    println!("{}", message1);
    println!("{}", message2);
}

fn add_prefix(prefix: &str, message: &str) -> String {
    format!("[{}] {}", prefix, message)
}
```
傳回值（Return Values）
函數可以傳回值給呼叫者。
```
fn function_name(parameters) -> ReturnType {
    // 函數體
    return value; // 可選：最後的表達式可隱含傳回
}
範例：兩個整數相加
fn main() {
    let result = add(5, 3);
    println!("The sum is: {}", result);
}

fn add(a: i32, b: i32) -> i32 {
    a + b  // 隱含傳回（無分號）
}
輸出：
The sum is: 8
範例：顯式傳回值

fn main() {
    let result = subtract(10, 4);
    println!("The difference is {}", result);
}

fn subtract(a: i32, b: i32) -> i32 {
    return a - b;  // 顯式傳回
}
輸出：
The difference is 6
範例：傳回問候字串

fn main() {
    let message = get_greeting("Alice");
    println!("{}", message);
}

fn get_greeting(name: &str) -> String {
    format!("Hello, {}!", name)
}
輸出：
Hello, Alice!
語句（Statements） vs 表達式（Expressions）
語句（Statements）
執行操作但不傳回值
```
用於變數宣告、函數定義等

以分號結尾
```
fn main() {
    let y = 6;  // 語句
}
```
#### 表達式（Expressions）
計算後會得到一個值
可以是算術運算、函數呼叫等
通常不以分號結尾
```
fn main() {
    let sum = 5 + 6;  // 5 + 6 是表達式
    println!("The sum is: {}", sum);
}
```
程式碼區塊作為表達式
```
fn main() {
    let y = {
        let x = 3;
        x + 1  // 無分號 → 表達式，傳回值
    };

    println!("The value of y is: {}", y);  // 輸出：4
}
```
控制流構造作為表達式
```
fn main() {
    let number = 10;
    let result = if number < 5 { 5 } else { 10 };  // if 表達式
    println!("The result is: {}", result);  // 輸出：10
}
```
#### 重點整理
概念	說明	語法範例
函數定義	使用 fn 關鍵字	fn function_name() {}
參數	函數輸入，需指定類型	fn greet(name: &str) {}
傳回值	使用 -> 指定類型	fn add() -> i32 {}
隱含傳回	最後的表達式無分號	a + b
顯式傳回	使用 return 關鍵字	return a - b;
語句	執行操作，不傳回值	let x = 5;
表達式	計算後得到值	5 + 6, x + 1
